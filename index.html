<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ELETIVAS 2026 | EEMTI ACM</title>
<style>
body { font-family: sans-serif; background:#f0f0f0; margin:0; }
.hidden { display:none !important; }
.container { max-width:900px; margin:2rem auto; background:white; padding:2rem; border-radius:1rem; }
input, button { padding:0.5rem; margin:0.5rem 0; width:100%; font-size:1rem; }
button { cursor:pointer; }
</style>
</head>
<body>

<div class="container" id="view-start">
    <h1>Sistema de Gestão Escolar</h1>
    <p>Escolha seu portal:</p>
    <button onclick="UI.nav('view-login')">Acessar Sistema</button>
</div>

<div class="container hidden" id="view-login">
    <h2>Login</h2>
    <input id="user" placeholder="Usuário">
    <input id="pass" type="password" placeholder="Senha">
    <button onclick="App.login()">Entrar</button>
    <button onclick="UI.nav('view-start')">Cancelar</button>
</div>

<div class="container hidden" id="view-coord">
    <h2>Painel do Coordenador</h2>
    <button onclick="UI.logout()">Sair</button>
    <p>Você está logado como coordenador.</p>
</div>

<div class="container hidden" id="view-prof">
    <h2>Painel do Professor</h2>
    <button onclick="UI.logout()">Sair</button>
    <p>Você está logado como professor.</p>
</div>

<script>
// Dados iniciais
const DB = {
    data: {
        turmas: [],
        profs: [
            { id: 1, nome: "Coordenador Teste", user: "coord", pass: "1234", perfil: "coordenador" },
            { id: 2, nome: "Professor Teste", user: "prof", pass: "1234", perfil: "professor", turmas: [] }
        ],
        feriados: [],
        logs: {}
    },
    save() {
        localStorage.setItem("acm_2026_data", JSON.stringify(this.data));
    },
    load() {
        const local = localStorage.getItem("acm_2026_data");
        if(local) this.data = JSON.parse(local);
    }
};
DB.load();

// Sessão
let session = { user: null };

// App
const App = {
    login() {
        const u = document.getElementById('user').value;
        const p = document.getElementById('pass').value;
        const prof = DB.data.profs.find(x => x.user === u && x.pass === p);
        if(!prof) { alert("Credenciais incorretas"); return; }
        session.user = prof;
        if(prof.perfil === "coordenador") UI.nav('view-coord');
        else UI.nav('view-prof');
    }
};

// UI
const UI = {
    nav(id) {
        document.querySelectorAll('.container').forEach(c=>c.classList.add('hidden'));
        document.getElementById(id).classList.remove('hidden');
    },
    logout() { session.user=null; UI.nav('view-start'); }
};
</script>

</body>
</html>
